---
title: Karabiner-Elements
description: A powerful and stable keyboard customizer for macOS.
sidebar:
  order: 2
tableOfContents: false
---

import {
  TabItem,
  Tabs,
  Code,
  LinkCard,
  CardGrid,
} from '@astrojs/starlight/components'
import BrewInstallCask from '@components/BrewInstallCask.astro'
import BrewfileCask from '@components/BrewfileCask.astro'
import DownloadCard from '@components/DownloadCard.astro'
import Link from '@components/Link.astro'

export const components = { a: Link }

[Karabiner-Elements](https://karabiner-elements.pqrs.org/) is a very powerful
keyboard customizer, however, the JSON config format is hard to use for complex mappings.
So I created a tool, [karabiner.ts](https://github.com/evan-liu/karabiner.ts),
to write the config in TypeScript with strong-typing and abstracted features.

<Tabs>
  <TabItem label="brew install" icon="homebrew">
    <BrewInstallCask name="karabiner-elements" />
  </TabItem>
  <TabItem label="brew bundle" icon="homebrew">
    <BrewfileCask name="karabiner-elements" />
  </TabItem>
  <TabItem label="Download" icon="down-caret">
    <DownloadCard url="https://karabiner-elements.pqrs.org/" />
  </TabItem>
</Tabs>

One excellent starter on the Apple keyboard is to map `â‡ª` (`caps_lock`) to `Hyper`
(`âŒ˜âŒ¥âŒƒâ‡§`) modifier when press-and-hold (and still work as `â‡ª` when tap):

<Code
  code="map('â‡ª').toHyper().toIfAlone('â‡ª') // Or map('caps_lock').toHyper().toIfAlone('caps_lock')"
  lang="ts"
/>

Then you can bind `â‡ª` (`Hyper`) `+` keys to [Raycast](/productivity/mac/raycast) commands, or to
switch apps like:

- `Hyper+v` -> Paste with Raycast Clipboard History
- `Hyper+f` -> Switch to `Finder` app

If you are a `Vim` user, you can map it to `âŽ‹` instead when tapped:

<Code
  code="map('â‡ª').toHyper().toIfAlone('âŽ‹') // Or map('caps_lock').toHyper().toIfAlone('escape')"
  lang="ts"
/>

If you'd like to keep the `â‡ª` key, you can bind it to `â‡§+â‡ª`:

<Code
  code={`map('â‡ª').toHyper().toIfAlone('âŽ‹') // Or map('caps_lock').toHyper().toIfAlone('escape')
map('â‡ª', 'â‡§').to('â‡ª') // Or map('caps_lock', 'shift').to('caps_lock')`}
  lang="ts"
  ins={2}
/>

- Tap `â‡ª` -> `âŽ‹`
- Held `â‡ª` -> `Hyper` (`âŒ˜âŒ¥âŒƒâ‡§`)
- `â‡§ + â‡ª` -> `â‡ª`
  - `â‡ª` (without `â‡§`) -> `â‡ª` (`caps_lock` off)

Now, imagine you can make every key on the keyboard a
[layer](https://evan-liu.github.io/karabiner.ts/rules/layer), which when pressed
and held, allow every other key on the keyboard to do something like:

- Launch or switch to an app
- Move or resize the current app window
- Run **anything** on the computer

<CardGrid>
  <LinkCard
    href="https://github.com/evan-liu/karabiner-config/blob/main/karabiner-config.ts"
    title="ðŸ‘¨â€ðŸ’» My config"
    target="_blank"
  />
  <LinkCard
    href="https://github.com/evan-liu/karabiner.ts"
    title="ðŸ› ï¸ karabiner.ts"
    target="_blank"
  />
</CardGrid>
